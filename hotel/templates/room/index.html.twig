{% extends 'base.html.twig' %}



{% block body %}
{% for message in app.flashes('success')%}

    <div class="alert alert-success" >
        <h3> {{message}} </h3>
    </div>    
{% endfor %}

<br>
<div class="container" >
    
    <h2> Suites </h2>
    <br>
    <table class="table table-striped" >
        <thead>
            <tr>
                <td>Titre</td>    
                <td>Description</td>
                <td>Hôtel</td>
                <td>Prix</td>    
                <td>Modifier</td>
                <td>Supprimer</td>
                <td><a href=" {{path ('room.create')}} " >Créer </a></td>


            </tr>
            </thead> 
            <tbody>
                {% for room in rooms %}
                
                {% if  app.user.id  == room.hotelId or is_granted('ROLE_ADMIN')  %}
                  
                
                    <tr>
                   
                        <td><a class="btn btn-outline-primary btn-sm" href=" {{path ('room.show', {id: room.id})}} " > {{room.name}}</a></td>
                        <td> {{room.description}} </td>
                        <td> {{room.category}} </td>
                        <td> {{room.price}} </td>
                        <td><a class="btn btn-outline-warning btn-sm" href=" {{path ('room.modif', {id: room.id})}} " >   modifier </a></td>
                        <td><a class="btn btn-outline-danger btn-sm" href=" {{path ('room.delete', {id: room.id})}} " >    Supprimer </a></td>
                    
                    {% endif %}
                    
                    {#{% endif %}#}
                    {##}
                    </tr>
                {% endfor %}
            </tbody>

    </table>
</div>
{% endblock %}
